{"version":3,"sources":["utils/ga.js","ui/pokemon/cmp-pokemon.js","ui/search/cmp-search.js","utils/api.js","ui/page/cmp-page.js","index.js"],"names":["ReactGA","initialize","Pokemon","pokemon","this","props","react_default","a","createElement","className","type","onClick","ga","event","category","action","label","id","style","backgroundImage","concat","name","Component","Search","_ref","onChange","value","placeholder","autoFocus","api","limit","arguments","length","undefined","fetch","then","response","json","result","results","map","url","substring","Object","objectSpread","Page","state","isLoading","searchString","pokemons","error","handleSearchChange","currentTarget","toLowerCase","trim","hardtack","set","maxAge","_this","setState","_this2","get","getPokemons","catch","message","finally","pageview","window","location","pathname","search","_this$state","pokemonsList","forEach","includes","push","key","cmp_pokemon","_this$state2","cmp_search","renderPokemonsList","render","cmp_page","document","getElementById"],"mappings":"sOAEAA,IAAQC,WAAW,kBAEJD,QAAf,ECyBeE,mLAzBJ,IACCC,EAAYC,KAAKC,MAAjBF,QAER,OACEG,EAAAC,EAAAC,cAAA,OAAKC,UAAU,WACbH,EAAAC,EAAAC,cAAA,UACEE,KAAK,SACLD,UAAU,kBACVE,QAAS,WACPC,EAAGC,MAAM,CACPC,SAAU,UACVC,OAAQ,QACRC,MAAOb,EAAQc,MAGnBC,MAAO,CACLC,gBAAe,OAAAC,OAAA,4EAAAA,OAAqFjB,EAAQc,GAA7F,gBAGnBX,EAAAC,EAAAC,cAAA,KAAGC,UAAU,iBAAiBN,EAAQkB,cApBxBC,aCSPC,EAVA,SAAAC,GAAA,IAAGC,EAAHD,EAAGC,SAAUC,EAAbF,EAAaE,MAAb,OACbpB,EAAAC,EAAAC,cAAA,SACEE,KAAK,OACLe,SAAUA,EACVC,MAAOA,EACPC,YAAY,wBACZC,WAAS,aCgBEC,EAFH,0GArBe,IAAbC,EAAaC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAL,IAClB,OAAOG,MAAK,4CAAAd,OAA6CU,IACtDK,KAAK,SAACC,GACL,OAAOA,EAASC,SAEjBF,KAAK,SAACG,GAWL,OAViBA,EAAOC,QAAQC,IAAI,SAACrC,GAAY,IACvCsC,EAAQtC,EAARsC,IACFxB,EAAKwB,EAAIC,UAAU,GAAID,EAAIT,OAAS,GAE1C,OAAOW,OAAAC,EAAA,EAAAD,CAAA,GACFxC,EADL,CAEEc,qBC8EG4B,6MAnFbC,MAAQ,CACNC,WAAW,EACXC,aAAc,GACdC,SAAU,GACVC,MAAO,QAgCTC,mBAAqB,SAACtC,GACpB,IAAMa,EAAQb,EAAMuC,cAAc1B,MAAM2B,cAAcC,OAEtDC,IAASC,IAAI,eAAgB9B,EAAO,CAClC+B,OAAQ,aAGVC,EAAKC,SAAS,CACZX,aAActB,wFArCE,IAAAkC,EAAAxD,KACZ4C,EAAeO,IAASM,IAAI,iBAAmB,GAErDzD,KAAKuD,SAAS,CACZZ,WAAW,EACXC,iBAGFnB,EACGiC,cACA3B,KAAK,SAACc,GACLW,EAAKD,SAAS,CACZV,eAGHc,MAAM,SAACb,GACNU,EAAKD,SAAS,CACZT,MAAOA,EAAMc,YAGhBC,QAAQ,WACPL,EAAKD,SAAS,CACZZ,WAAW,MAIjBnC,EAAGsD,SAASC,OAAOC,SAASC,SAAWF,OAAOC,SAASE,qDAepC,IAAAC,EACgBnE,KAAK0C,MAAhCG,EADWsB,EACXtB,SAAUD,EADCuB,EACDvB,aAEZwB,EAAe,GAcrB,OAZAvB,EAASwB,QAAQ,SAACtE,GACXA,EAAQkB,KAAKqD,SAAS1B,IAI3BwB,EAAaG,KACXrE,EAAAC,EAAAC,cAAA,MAAIC,UAAU,iBAAiBmE,IAAKzE,EAAQc,IAC1CX,EAAAC,EAAAC,cAACqE,EAAD,CAAS1E,QAASA,QAKjBG,EAAAC,EAAAC,cAAA,MAAIC,UAAU,YAAY+D,oCAG1B,IAAAM,EACoC1E,KAAK0C,MAAxCC,EADD+B,EACC/B,UAAWC,EADZ8B,EACY9B,aAAcE,EAD1B4B,EAC0B5B,MAEjC,OACE5C,EAAAC,EAAAC,cAAA,OAAKC,UAAU,QACZyC,GAAS5C,EAAAC,EAAAC,cAAA,OAAKC,UAAU,eAAeyC,GACxC5C,EAAAC,EAAAC,cAAA,OAAKC,UAAU,gBACbH,EAAAC,EAAAC,cAACuE,EAAD,CAAQtD,SAAUrB,KAAK+C,mBAAoBzB,MAAOsB,KAEnDD,EAAYzC,EAAAC,EAAAC,cAAA,uBAAoBJ,KAAK4E,6BA9E3B1D,mBCDnB2D,iBAAO3E,EAAAC,EAAAC,cAAC0E,EAAD,MAAUC,SAASC,eAAe","file":"static/js/main.23a78fa7.chunk.js","sourcesContent":["import ReactGA from 'react-ga';\n\nReactGA.initialize('UA-112044218-9');\n\nexport default ReactGA;\n","import React, { Component } from 'react';\nimport ga from '../../utils/ga';\n\nclass Pokemon extends Component {\n  render() {\n    const { pokemon } = this.props;\n\n    return (\n      <div className=\"pokemon\">\n        <button\n          type=\"button\"\n          className=\"pokemon__sprite\"\n          onClick={() => {\n            ga.event({\n              category: 'pokemon',\n              action: 'click',\n              label: pokemon.id,\n            });\n          }}\n          style={{\n            backgroundImage: `url(${`https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/${pokemon.id}.png`})`,\n          }}\n        />\n        <p className=\"pokemon__name\">{pokemon.name}</p>\n      </div>\n    );\n  }\n}\n\nexport default Pokemon;\n","import React from 'react';\n\nconst Search = ({ onChange, value }) => (\n  <input\n    type=\"text\"\n    onChange={onChange}\n    value={value}\n    placeholder=\"Enter pokemon name...\"\n    autoFocus\n  />\n);\n\nexport default Search;\n","class API {\n  getPokemons(limit = 784) {\n    return fetch(`https://pokeapi.co/api/v2/pokemon/?limit=${limit}`)\n      .then((response) => {\n        return response.json();\n      })\n      .then((result) => {\n        const pokemons = result.results.map((pokemon) => {\n          const { url } = pokemon;\n          const id = url.substring(34, url.length - 1);\n\n          return {\n            ...pokemon,\n            id,\n          };\n        });\n\n        return pokemons;\n      });\n  }\n}\n\nconst api = new API();\n\nexport default api;\n","import React, { Component } from 'react';\nimport hardtack from 'hardtack';\nimport Pokemon from '../pokemon/cmp-pokemon';\nimport Search from '../search/cmp-search';\nimport ga from '../../utils/ga';\nimport api from '../../utils/api';\n\nclass Page extends Component {\n  state = {\n    isLoading: false,\n    searchString: '',\n    pokemons: [],\n    error: null,\n  };\n\n  componentDidMount() {\n    const searchString = hardtack.get('searchString') || '';\n\n    this.setState({\n      isLoading: true,\n      searchString,\n    });\n\n    api\n      .getPokemons()\n      .then((pokemons) => {\n        this.setState({\n          pokemons,\n        });\n      })\n      .catch((error) => {\n        this.setState({\n          error: error.message,\n        });\n      })\n      .finally(() => {\n        this.setState({\n          isLoading: false,\n        });\n      });\n\n    ga.pageview(window.location.pathname + window.location.search);\n  }\n\n  handleSearchChange = (event) => {\n    const value = event.currentTarget.value.toLowerCase().trim();\n\n    hardtack.set('searchString', value, {\n      maxAge: '31536000',\n    });\n\n    this.setState({\n      searchString: value,\n    });\n  };\n\n  renderPokemonsList() {\n    const { pokemons, searchString } = this.state;\n\n    const pokemonsList = [];\n\n    pokemons.forEach((pokemon) => {\n      if (!pokemon.name.includes(searchString)) {\n        return;\n      }\n\n      pokemonsList.push(\n        <li className=\"pokemons__item\" key={pokemon.id}>\n          <Pokemon pokemon={pokemon} />\n        </li>\n      );\n    });\n\n    return <ul className=\"pokemons\">{pokemonsList}</ul>;\n  }\n\n  render() {\n    const { isLoading, searchString, error } = this.state;\n\n    return (\n      <div className=\"page\">\n        {error && <div className=\"page__error\">{error}</div>}\n        <div className=\"page__search\">\n          <Search onChange={this.handleSearchChange} value={searchString} />\n        </div>\n        {isLoading ? <p>Loading...</p> : this.renderPokemonsList()}\n      </div>\n    );\n  }\n}\n\nexport default Page;\n","import React from 'react';\nimport { render } from 'react-dom';\nimport Page from './ui/page/cmp-page';\n\nimport './style/main.css';\n\nrender(<Page />, document.getElementById('root'));\n"],"sourceRoot":""}